<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task15</title>
</head>
<body>
	<ul id="source">
		<li>北京空气质量：<b>90</b></li>
		<li>上海空气质量：<b>70</b></li>
		<li>天津空气质量：<b>80</b></li>
		<li>广州空气质量：<b>50</b></li>
		<li>深圳空气质量：<b>40</b></li>
		<li>福州空气质量：<b>32</b></li>
		<li>成都空气质量：<b>90</b></li>
	</ul>
	<ul id="resort">
		
	</ul>

	<button id="sort-btn">排序</button>
	<script>
	(function(){	
		function getData(){
			var ul=document.getElementById('source');			
			var AqiData=[];
			var array=ul.getElementsByTagName('li');
			for(var i=0;i<array.length;++i){
				var city=array[i].innerText.substring(0,2);
				var cityAqi=array[i].getElementsByTagName('b')[0].innerText;	
				AqiData.push([city,cityAqi]);			
			}	

			return AqiData;
		}

		function sortAqiData(data){
			data.sort(function(x,y){
				return x[1]-y[1];
			});

			return data;
		}

		function render(data){
			if(document.getElementById('resort').innerText){

			}else{
				data.forEach(function(data){
					document.getElementById('resort').innerHTML+="<li>"+data[0]+"空气质量："+"<b>"+data[1]+"</b>"+"</li>";
				});
			}		
		}

		function btnHandle(){
			var aqiData=getData();
			aqiData=sortAqiData(aqiData);
			render(aqiData);
		}

		function init(){
			document.getElementById('sort-btn').onclick=function(){
				btnHandle();
			}
		}

		init();

	})();
	</script>
</body>
</html>